query PageQuery($name: String!) {
  page(name: $name) {
    name
    translations {
      nodes {
        ...PageTranslation
      }
    }
  }
}

mutation UpdatePageTranslation(
  $content: String!
  $pageName: String!
  $languageCode: TrLanguage!
) {
  updatePageTr(
    input: {
      patch: { content: $content }
      pageName: $pageName
      languageCode: $languageCode
    }
  ) {
    pageTr {
      ...PageTranslation
    }
  }
}

fragment PageTranslation on PageTr {
  content
  languageCode
  pageName
}

query InfoPagesQuery {
  infoPages(orderBy: RANK_ASC) {
    nodes {
      icon
      name
      rank

      translations {
        nodes {
          languageCode
          infoPageName
          subtitle
          title
        }
      }
    }
  }
}

query InfoPageQuery($name: String!) {
  infoPage(name: $name) {
    icon
    rank
    name
    translations {
      nodes {
        languageCode
        infoPageName
        subtitle
        title
      }
    }
  }
}

mutation UpsertInfoPage(
  $data: InfoPageDatumInput!
  $translations: [InfoPageTrDatumInput]!
  $name: String!
) {
  upsertInfoPage(
    input: { data: $data, translations: $translations, infoPageName: $name }
  ) {
    infoPage {
      icon
      rank
      name
      translations {
        nodes {
          languageCode
          infoPageName
          subtitle
          title
        }
      }
    }
  }
}
